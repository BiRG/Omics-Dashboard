{# The dashboard puts resources belonging to the user front and center#}
{% extends "base.html" %}
{% block content %}
<div class="container">
  <div class="page-header">
    <h1 class="display-4">{{ data['name'] }} ({{ type }} {{ data['id'] if 'id' in data else data['rowid'] }})</h1>
    {% if type.lower() == 'collection' %}
      <p>
        <a class="btn btn-primary" href="{{ url_for('download_collection', collection_id=data['id']) }}" role="button">
          <i class="fa fa-download"></i> HDF5
        </a>
      </p>
    </div>
    {% elif type.lower() == 'sample' %}
      <p class="lead">
        <a class="btn btn-primary btn-lg" href="{{ url_for('download_collection', collection_id=data['id']) }}" role="button">
          <i class="fa fa-download"></i> Download HDF5
        </a>
      </p>
    {% endif %}
</div>

  <div class="container-fluid">
  <div class="row">
    <div class="panel panel-primary">
      <div class="panel-heading"><h3>Attributes</h3></div>
    <table id="attributes" class="table table-striped table-bordered" cellspacing="0" width="100%">
      <thead>
        <th>Key</th>
        <th>Value</th>
      </thead>
      <tbody>
      {% for key, value in data.items() %}
      <tr>
        <td>{{ key }}</td>
        {% if key in USERKEYS %}
        <td><a href="{{ url_for('render_user_profile', user_id=value) }}">{{ get_user_name(value) }}</a></td>
        {% elif key=='dateModified' %}
          <td>{{ datetime.utcfromtimestamp(value).strftime('%Y-%m-%d %H:%M:%S (UTC)') }}</td>
        {% else %}
        <td>{{ value }}</td>
        {% endif %}
      </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
</div>
{% endblock %}
